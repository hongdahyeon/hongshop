class File{constructor(t){this._drawId=t,this._fileGroupId=null,this._deleteFile=[],this._fileData=[]}setData(t=[]){return this._fileData=t,this}setFileGroupId(t){return this._fileGroupId=t,this}getDeleteFile(){return this._deleteFile}getFileGroupId(){return this._fileGroupId}setFiles(){let t=$(`#${this._drawId}`);t.empty(),this._fileData.forEach((e,i)=>{let s=document.createElement("li");s.style.marginTop="10px",s.setAttribute("data-file-id",e.id);let r=document.createElement("a");r.href="#",r.onclick=()=>this.trashFile(e.id,s);let a=document.createElement("i");a.setAttribute("data-feather","trash"),a.className="front-medium-2",r.appendChild(a),s.appendChild(r),s.appendChild(document.createTextNode(e.originalFileName)),t.append(s)}),feather.replace()}domEmptyAndFileGroupIdNull(){let t=$(`#${this._drawId}`);return t.empty(),this._fileGroupId=null,this._deleteFile=[],this}trashFile(t,e){this._deleteFile.push(t);let i=$(e).closest("li");i.remove()}addFileList=(t=[])=>{let e=$(`#${this._drawId}`),i=document.createElement("li");i.style.marginTop="10px",i.setAttribute("data-file-id",t.id);let s=document.createElement("a");s.href="#",s.onclick=()=>this.trashFile(t.id,i);let r=document.createElement("i");r.setAttribute("data-feather","trash"),r.className="front-medium-2",s.appendChild(r),i.appendChild(s),i.appendChild(document.createTextNode(`[임시저장] ${t.originalFileName}`)),e.append(i),feather.replace()}}class MyUploadAdapter{constructor(t){this.loader=t,this.url="/api/uploadCKImageFile"}upload(){return this.loader.file.then(t=>new Promise((e,i)=>{this._initListeners(e,i,t),this._sendRequest(t)}))}abort(){this.controller&&this.controller.abort()}_initListeners(t,e,i){let s=this.loader,r=`Couldn't upload file: ${s.file.name}.`,a=new AbortController;this.controller=a;let l=a.signal;l.addEventListener("abort",()=>{e()});let n={method:"POST",body:new FormData,signal:l};n.body.append("file",i);let o=new Headers;o.append("Accept","application/json"),n.headers=o;let h=i=>{let s=i.headers.get("content-type");return s&&-1!==s.indexOf("application/json")?i.json().then(i=>{if(!i||i.error)return e(i&&i.error?i.error.message:r);t({default:i.url}),console.log("json : ",i)}):e(r)};fetch(this.url,n).then(h).catch(t=>{"AbortError"!==t.name&&e(r)})}_sendRequest(t){}}class FormDataToObj{static async getParameter(t){let e=document.getElementById(t),i=new FormData(e),s=Array.from(i.entries()).reduce((t,[e,i])=>(t[e]?Array.isArray(t[e])?t[e].push(i):t[e]=[t[e],i]:t[e]=i,t),{});return s}}class Util{static priceString(t){return t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")}static alert(t,e="s",i="s"){return Swal.fire({html:t,icon:"s"===e?"success":"warning",confirmButtonColor:"s"===i?"#3085d6":"#d33",focusConfirm:!1,confirmButtonText:"확인"})}static confirm(t,e="w",i="확인",s="취소"){return Swal.fire({html:t,icon:"w"===e?"warning":"success",focusConfirm:!1,showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:i,cancelButtonText:s}).then(t=>t.isConfirmed)}static strYN(t,e="가능",i="불가능"){return"Y"===t?e:i}static DateSubString(t,e=0,i=10){return t.toString().substring(e,i)}}class Http{static get(t,e="",i="GET"){return $.ajax({type:i,url:t,data:e,dataType:"json"})}static syncGet(t,e="",i=!1,s="GET"){return $.ajax({type:s,url:t,data:e,async:!1,dataType:"json"})}static post(t,e,i="POST"){return $.ajax({type:i,url:t,data:JSON.stringify(e),dataType:"json",contentType:"application/json"})}static delete(t,e,i="DELETE"){return $.ajax({type:i,url:t,contentType:"application/json"})}static put(t,e,i="PUT"){return $.ajax({type:i,url:t,data:JSON.stringify(e),dataType:"json",contentType:"application/json"})}static filePost(t,e,i="POST"){return $.ajax({type:i,url:t,data:e,contentType:!1,processData:!1})}static fileDownload(t){let e="";return $.ajax({url:`/api/downloadFile/${t}`,method:"GET",xhrFields:{responseType:"blob"},success:function(t,i,s){let r=s.getResponseHeader("Content-Disposition"),a=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(r);if(e=a&&a[1]?a[1].replace(/['"]/g,"").replace("UTF-8",""):""){let l=$('<a style="display: none;"></a>');l.attr("href",window.URL.createObjectURL(t)),l.attr("download",decodeURIComponent(e)),$("body").append(l),l[0].click(),l.remove()}}})}}class Table{constructor(t,e=!0){this._id=t,this._useUrl=e,this._subTable=!1,this._layout="fitDataFill",this._placeholder="검색결과가 존재하지 않습니다.",this._minHeight=50,this._maxHeight=300,this._columnHeaderVertAlign="",this._resizeable=!1,this._rowFormatter=null,this._rowClick=null,this._selectable=!1,this._afterComplete=null,this._checkbox=!1,this._pagination=!1,this._paging="local",this._paginationSize=6,this._paginationSizeSelector=[3,6,8,10],this._movableColumns=!0,this._paginationCounter="rows",this._columns=[],this._url="",this._data=[],this._selectedRows=[],this._table=null}submit(){Http.get(`${this._url}`).then(t=>{if(200===t.httpStatus){let e=t.message.map((t,e)=>({...t,index:e+1}));this._table.replaceData(e)}})}usePagination(){return this._pagination=!0,this}deselectAll(){this._table.deselectRow(),this._selectedRows=[]}get(t=""){return this._url=t,this}checkbox(){return this._checkbox=!0,this}selectable(){return this._selectable=!0,this}setData(t=[]){return this._data=t,this}subTable(){return this._subTable=!0,this}changeLayout(t=""){return this._layout=t,this}rowClick(t){return this._rowClick=t,this}rowFormatter(t){return this._rowFormatter=t,this}afterComplete(t){return this._afterComplete=t,this}resizeable(){return this._resizeable=!0,this}headerBottom(){return this._columnHeaderVertAlign="bottom",this}getSelectedRows(){return this._selectedRows}add(t){return t instanceof Column&&this._columns.push(t.getCol()),this}init(){if(this._useUrl)Http.get(`${this._url}`).then(t=>{if(200===t.httpStatus){let e=t.message.map((t,e)=>({...t,index:e+1}));this._initOptions(e)}});else{let t=this._data.map((t,e)=>({...t,index:e+1}));this._initOptions(t)}}_initOptions(t){this._checkbox&&this._columns.unshift({formatter:"rowSelection",titleFormatter:"rowSelection",hozAlign:"center",headerSort:!1,width:42,cssClass:"tabulator-checkbox",cellClick:function(t,e){e.getRow().toggleSelect()}});let e={data:t,selectable:this._selectable,placeholder:this._placeholder,columnHeaderVertAlign:this._columnHeaderVertAlign,layout:this._layout,minHeight:this._minHeight,columnDefaults:{resizable:this._resizeable},columns:this._columns};this._pagination&&(e.pagination=this._paging,e.paginationSize=this._paginationSize,e.paginationSizeSelector=this._paginationSizeSelector,e.movableColumns=this._movableColumns,e.paginationCounter=this._paginationCounter),this._rowFormatter&&(e.rowFormatter=this._rowFormatter);let i=this._subTable?this._id:`#${this._id}`,s=new Tabulator(i,e);this._rowClick&&s.on("rowClick",(t,e)=>{t.target.classList.contains("tabulator-checkbox")||t.target.classList.contains("select")||this._rowClick(e.getData(),e._row)}),this._afterComplete&&s.on("renderComplete",()=>this._afterComplete()),s.on("rowSelectionChanged",(t,e)=>this._selectedRows=t),this._table=s}}class Column{constructor(t){this._title="",this._field=t,this._headerSort=!1,this._width="10%",this._hozAlign="center",this._headerHozAlign="center",this._formatter=null,this._columns=[]}title(t=""){return this._title=t,this}width(t="10%"){return this._width=t,this}headerSort(t=!1){return this._headerSort=t,this}center(){return this._hozAlign="center",this._headerHozAlign="center",this}left(){return this._hozAlign="left",this._headerHozAlign="left",this}right(){return this._hozAlign="right",this._headerHozAlign="right",this}formatter(t){return this._formatter=t,this}add(t){return t instanceof Column&&this._columns.push(t.getCol()),this}getCol(){let t={title:this._title,headerSort:this._headerSort,width:this._width,hozAlign:this._hozAlign,headerHozAlign:this._headerHozAlign};return this._field&&(t.field=this._field),null!==this._formatter&&(t.formatter=this._formatter),this._columns.length&&(t.columns=this._columns),t}}